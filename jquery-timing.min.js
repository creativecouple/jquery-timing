(function(g,e){var a={},d={};function c(j,h,o){var n={c:j,f:h},m=[],l,k,i=function(){while(!k){try{k=!k;if(o){o(n.c)}if(n.j==0){return}if(n.f.g){if(!n.c[n.f.g]){throw"no such method: "+n.f.g}n=n.j?{c:n.j,h:typeof n.b=="function"&&n.b.apply(n.j,g(m).map(function(){return this.d}).get()),f:(n.j=0)||n.f.h}:n.c[n.f.g].timing?n.c[n.f.g].timing(i,n,m)||n:{c:n.c[n.f.g].apply(n.c,n.f.a),f:n.f.h}}else{if(!m.length){return n.c}if(!l){return}n=m[0].i()}}finally{k=!k}}};e.setTimeout(function(){l=!l;i()},0);return i}function f(k,i,h){var l={},j;l._=k._=k;for(j in k){if(typeof k[j]=="function"){d[j]=j}}g.each(d,function(m){l[m]=function(){i.g=m;i.a=arguments;i=i.h={};return h&&h()||l}});return l}f([]);f("");f(g());g.each(["wait","repeat","join","then","until"],function(i,h){g.fn[h]=function(){var j={},k=f(this,j,c(this,j,function(l){k.length=0;Array.prototype.push.apply(k,g.makeArray(l))}));return k[h].apply(this,arguments)}});g.fn.wait.timing=function(j,l){var i,h,k;l.j=0;if(typeof l.f.a[0]=="function"){l.b=l.f.a[0]}else{i=l.f.a[0];l.b=l.f.a[1]}if(typeof i=="string"){h=function(){g(this).unbind(i,h).unbind("__unwait__",k);l.j=l.j&&l.j.add(this)||g(this);j()};k=function(){g(this).unbind("__unwait__",k);l.c=l.c.not(this);l.j=l.c.length&&l.j&&l.j.not(this);g(this).unbind(i,h)};l.c.bind(i,h)}else{h=e.setTimeout(function(){l.c.unbind("__unwait__",k);l.j=l.c;j()},Math.max(0,i));k=function(){g(this).unbind("__unwait__",k);l.c=l.c.not(this);l.j=l.c.length&&l.j&&l.j.not(this);if(!l.c.length){e.clearTimeout(h)}}}l.c.bind("__unwait__",k)};g.fn.repeat.timing=function(j,m,l,n){var i,h,k;m.j=0;if(typeof m.f.a[0]=="function"){m.b=m.f.a[0]}else{if(typeof m.f.a[1]=="function"){i=m.f.a[0];m.b=m.f.a[1]}else{i=m.f.a[0];m.j=!!m.f.a[1]&&m.c;m.b=m.f.a[2]}}if(i==null){h=j;k=function(){g(this).unbind("__unrepeat__",k);m.c=m.c.not(this);m.j=m.c.length&&m.j&&m.j.not(this);h=m.c.length&&h};m.l=function(o){if(!h||o){m.c.unbind("__unrepeat__",k)}else{m.j=m.c}};m.j=m.c}else{if(typeof i=="string"){h=function(){m.j=m.j&&m.j.add(this)||g(this);j()};k=function(){g(this).unbind("__unrepeat__",k);m.c=m.c.not(this);m.j=m.c.length&&m.j&&m.j.not(this);g(this).unbind(i,h)};m.l=function(o){if(o){m.c.unbind("__unrepeat__",k).unbind(i,h)}};m.c.bind(i,h)}else{h=e.setInterval(function(){m.j=m.c;j()},Math.max(0,i));k=function(){g(this).unbind("__unrepeat__",k);m.c=m.c.not(this);m.j=m.c.length&&m.j&&m.j.not(this);if(!m.c.length){e.clearInterval(h)}};m.l=function(o){if(o){m.c.unbind("__unrepeat__",k);e.clearInterval(h)}}}}m.c.bind("__unrepeat__",k);m.i=function(){return g.fn.until.timing(j,null,l)};m.d=0;l.unshift(m)};g.fn.until.timing=function(h,j,i){if(!i.length){throw".until() method must be used after .repeat() only"}var k=!!j&&j.f.a[0];if(k==null){k=!j.c.size()}if(typeof k=="function"){k=k.apply(j.c,g(i).map(function(){return this.d}).get())}if(typeof k=="object"){k=k.toString()}if(typeof k=="number"){k=i[0].d>=k-1}if(k){j.j=j.c;i.shift().l(k)}else{j=i[0];j.d++;j.l();return j}};g.fn.then.timing=function(h,i){i.b=i.f.a[0];i.j=i.c};g.fn.join.timing=function(h,j){var i,k=g(j.c);j.j=0;if(typeof j.f.a[0]=="function"){j.b=j.f.a[0]}else{i=j.f.a[0];j.b=j.f.a[1]}j.c.queue(i==null?"fx":i,function(l){j.j=!(k=k.not(this)).length&&j.c;h();l()})};g.each(["unwait","unrepeat"],function(i,h){g.fn[h]=function(){return this.trigger("__"+h+"__")}});g.each(["wait","repeat","join","then","unwait","unrepeat"],function(i,h){g[h]=function(){var j=typeof arguments[0]=="string"?Array.prototype.shift.apply(arguments):"";return g.fn[h].apply(a[j]=(a[j]||g("<div>").text(j)),arguments)}});g.each(["bind","on","one","live","delegate"],function(i,h){var j=g.fn[h];g.fn[h]=j&&function(){var k,m,l;for(m=0;m<arguments.length;m++){if(typeof arguments[m]=="function"||typeof arguments[m]=="object"||arguments[m]===false){if(arguments[m]!==g){if(typeof arguments[m]=="function"&&g.guid){arguments[m].guid=arguments[m].guid||g.guid++}k=!k}break}}if(k){return j.apply(this,arguments)}l={};arguments[m]=function(){return(c(g(this),l))()};arguments.length=Math.max(arguments.length,m+1);return f(j.apply(this,arguments),l)}});function b(k,n,j){if(typeof k=="string"){j=new Function("x","return ["+k+"\n,x]");k=function(p,o){o=j(p);i.x=o[1];return o[0]}}var h=typeof n=="function",m=typeof k=="function",i=function(o){if(arguments.length==1){i.x=o;if(h){n(o)}}else{return l()}};function l(o){o=h?n():i.x;return m?k(o):o}i.x=0;i._={toString:i.$=i.toString=l.toString=l};i.mod=function(o){return b(function(p){return p%o},i)};i.add=function(o){return b(function(p){return p+o},i)};i.neg=function(){return b("-x",i)};i.$$=function(o){return b(o,i)};g.each("abcdefghij",function(o,p){i[o]=i[p]=function(){i(arguments[o])}});return i}g.$$=e.$$=g.X=b;g.fn.$=g})(jQuery,window);