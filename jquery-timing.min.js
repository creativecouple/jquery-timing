(function(y,D){var J="__timeouts",A="__intervals",z=undefined,v=true,C="fx",o={},f=[];function k(K){return typeof K=="function"}function h(K){return typeof K=="string"}function u(M,L){M=M||[];for(var K=0;K<M.length;K++){if(M[K]===L){if(K<M.length-1){M[K]=M.pop();K--}else{M.pop()}}}return M}function E(L,K){L=L||[];L.push(K);return L}function H(N,R,P){var O={f:v,d:N,o:{}},K={},Q={},L={b:O,l:[],m:D.setTimeout(function(){L.m=z;F(L,O)},0),n:Q},M;for(M in N){if(k(N[M])){(function(S){Q[S]=function(){K=K.k={k:O,d:O.d,j:S,i:arguments};return L.b.f&&(L.b=K)&&F(L)||Q}})(M)}}return Q[R].apply(N,P)}function F(M,R,L){if(R){if(!R.o){return}R.o.h=!L||L===D||R.o.h&&R.o.h.add(L)||y(L);if(M.b!=R){return}}for(var P,O,Q,K,N;P=M.b;){K=P.o;N=K&&K.h;O=N&&K.h.length?K.h:P.d;M.n.length=0;f.push.apply(M.n,O.get());if(P.f){if(!M.l[0]){return O}if(!M.m){M.b=M.l[0];M.b.e++;continue}break}if(K){if(N){l(M)}else{break}}Q=O[P.j];if(Q==c){(N?d:B)(M,P)}else{if(Q==g){(N?I:s)(M,P)}else{if(Q==r){P.c=P.i[0];l(M)}else{if(Q==x){(N?b:p)(M,P)}else{if(Q==i&&M.l[0]){if(j(M,P)){l(M);e(M)}else{M.b=M.l[0];M.b.e++;continue}}else{O=Q.apply(O,P.i);l(M)}}}}}M.b.d=O}}function l(K,L){L=K.b;if(k(L.c)){t(K,L.d,L.c)}K.b=L.k}function t(K,M,N,L){L=[];y.each(K.l,function(){L.push(this.e)});return N.apply(M,L)}function B(M,N,L){function K(){F(M,N,this)}if(k(N.i[0])){N.c=N.i[0]}else{L=N.i[0];N.c=N.i[1]}N.o=h(L)?{a:K,d:N.d.bind(L,K),q:L}:{d:N.d,q:D.setTimeout(K,Math.max(0,L))};N.d.each(function(O,P){y(P).data(J,E(y(P).data(J),N.o))})}function w(K,L){K.d=K.d.not(L);K.h=K.d.length&&K.h&&K.h.not(L);if(K.a){L.unbind(K.q,K.a)}else{if(!K.d.length){D.clearTimeout(K.q)}}L.each(function(M,N){y(N).data(J,u(y(N).data(J),K))})}function d(K,L){w(L.o,L.o.d);L.o=z}function s(K,M,L,N){if(k(M.i[0])){M.c=M.i[0]}else{L=M.i[0];M.c=M.i[1]}N=f.slice.call(M.d);M.d.queue(L==z?C:L,function(O){if(N.length&&!u(N,this).length){F(K,M)}O()});M.o={d:M.d,h:!N.length&&M.d}}function I(K,L){L.o=z}function p(M,N,L,O){function K(){F(M,N,this)}if(k(N.i[0])){N.c=N.i[0]}else{if(k(N.i[1])){L=N.i[0];N.c=N.i[1]}else{L=N.i[0];O=N.i[1];N.c=N.i[2]}}N.o=(L==z)?{d:N.d,h:N.d}:h(L)?{a:K,d:N.d.bind(L,K),q:L,h:O&&N.d}:{d:N.d,q:D.setInterval(K,Math.max(0,L)),h:O&&N.d};N.d.each(function(P,Q){y(Q).data(A,E(y(Q).data(A),N.o))});N.e=0;M.l.unshift(N)}function b(K,L){L.o.h=!L.o.q&&L.o.h}function q(K,L){K.d=K.d.not(L);K.h=K.d.length&&K.h&&K.h.not(L);if(K.a){L.unbind(K.q,K.a)}else{if(K.q){if(!K.d.length){D.clearInterval(K.q)}}}L.each(function(M,N){y(N).data(A,u(y(N).data(A),K))})}function e(K,L){L=K.l.shift();q(L.o,L.o.d);L.o=z}function j(K,L,M){M=L.i[0];if(M==z){M=!L.d.size()}if(k(M)){M=t(K,L.d,M)}if(typeof M=="object"){M=M.toString()}return typeof M=="number"?K.l[0].e>=M-1:M}function c(){return H(this,"wait",arguments)}function n(K){K=this;return K.each(function(L){y.each(y(this).data(J)||[],function(){w(this,K)})})}function x(){return H(this,"repeat",arguments)}function a(K){K=this;return K.each(function(L){y.each(y(this).data(A)||[],function(){q(this,K)})})}function i(){throw".until() method must be used after .repeat() only"}function r(K){K.apply(this);return this}function g(){return H(this,"join",arguments)}function m(K,M,L){if(h(K)){f.shift.apply(L)}else{K=""}return M.apply(o[K]=(o[K]||y("<div>").text(K)),L)}function G(N,Q,M){if(h(N)){M=new Function("x","return ["+N+"\n,x]");N=function(S,R){R=M(S);L.x=R[1];return R[0]}}var K=k(Q),P=k(N),L=function(R){if(arguments.length==1){L.x=R;if(K){Q(R)}}else{return L.$()}};function O(R){R=K?Q():L.x;return P?N(R):R}O.toString=O;y.extend(L,{x:0,$:O,toString:O,_:{toString:L.$},mod:function(R){return G(function(S){return S%R},L)},add:function(R){return G(function(S){return S+R},L)},neg:function(){return G("-x",L)},$$:function(R){return G(R,L)}});y.each("abcdefghij",function(R,S){L[R]=L[S]=function(){L(arguments[R])}});return L}D.$$=G;y.fn.extend({wait:c,unwait:n,repeat:x,unrepeat:a,until:i,then:r,join:g,$:y});y.extend({wait:function(K){return m(K,c,arguments)},unwait:function(K){return m(K,n,arguments)},repeat:function(K){return m(K,x,arguments)},unrepeat:function(K){return m(K,a,arguments)},then:function(K){return m(K,r,arguments)},join:function(K){return m(K,g,arguments)},$$:G})})(jQuery,window);